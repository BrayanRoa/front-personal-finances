<div class="container">
    <!-- Componente Header -->
    <app-user-header 
        (wallet)="onBankSelected($event)" 
        [wallets]="walletsData()" 
        (year)="onYearSelected($event)" 
        [years]="years()">
    </app-user-header>

    <!-- Resumen de transacciones -->
    <app-transactions-card></app-transactions-card>

    <div class="grid-container">
        <!-- Tabla de transacciones -->
        <div class="item item1">
            <div class="title-container">
                <div class="title">
                    <h3>Transactions By Month - {{ nameMonthSelected() }}</h3>
                </div>

                <!-- Selector de Mes -->
                <div class="dropdown">
                    <app-drop-down 
                        [titleDropDown]="'Month'" 
                        [optionsDropDown]="months" 
                        (onChange)="onMonthChange($event)">
                    </app-drop-down>
                </div>
            </div>

            <!-- Tabla con columnas dinÃ¡micas -->
            <app-table 
                [columns]="tableColumns" 
                [data]="transactions" 
                [meta]="metaData"
                [numberRegistersByPage]="10"
                (paginate)="onPageChange($event)" 
                [actions]="actions"
                [cellTemplates]="{
                    type: tagTemplate, 
                    date: dateTemplate, 
                    amount: amountTemplate, 
                    category: categoryTemplate
                }">
            </app-table>

            <!-- Plantillas para celdas -->
            <ng-template #tagTemplate let-value>
                <td *ngIf="value === 'INCOME'; else outflow">
                    <div class="test">
                        <p-tag severity="success" value="INCOME" />
                    </div>
                </td>
                <ng-template #outflow>
                    <td>
                        <p-tag severity="danger" value="OUTFLOW" />
                    </td>
                </ng-template>
            </ng-template>

            <ng-template #dateTemplate let-value>
                <td>{{ value | date:'longDate':'UTC' }}</td>
            </ng-template>

            <ng-template #amountTemplate let-value>
                <td>{{ value | currency }}</td>
            </ng-template>

            <ng-template #categoryTemplate let-value>
                <td>{{ value }}</td>
            </ng-template>
        </div>

        <!-- Segunda columna -->
        <div class="item item2"></div>
    </div>
</div>
